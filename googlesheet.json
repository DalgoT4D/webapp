{
  "type": "object",
  "title": "Google Sheets Source Spec",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "required": ["spreadsheet_id", "credentials"],
  "properties": {
    "credentials": {
      "type": "object",
      "oneOf": [
        {
          "type": "object",
          "title": "Authenticate via Google (OAuth)",
          "required": ["auth_type", "client_id", "client_secret", "refresh_token"],
          "properties": {
            "auth_type": {
              "type": "string",
              "const": "Client"
            },
            "client_id": {
              "type": "string",
              "title": "Client ID",
              "description": "Enter your Google application's Client ID. See <a href='https://developers.google.com/identity/protocols/oauth2'>Google's documentation</a> for more information.",
              "airbyte_secret": true
            },
            "client_secret": {
              "type": "string",
              "title": "Client Secret",
              "description": "Enter your Google application's Client Secret. See <a href='https://developers.google.com/identity/protocols/oauth2'>Google's documentation</a> for more information.",
              "airbyte_secret": true
            },
            "refresh_token": {
              "type": "string",
              "title": "Refresh Token",
              "description": "Enter your Google application's refresh token. See <a href='https://developers.google.com/identity/protocols/oauth2'>Google's documentation</a> for more information.",
              "airbyte_secret": true
            }
          }
        },
        {
          "type": "object",
          "title": "Service Account Key Authentication",
          "required": ["auth_type", "service_account_info"],
          "properties": {
            "auth_type": {
              "type": "string",
              "const": "Service"
            },
            "service_account_info": {
              "type": "string",
              "title": "Service Account Information.",
              "examples": [
                "{ \"type\": \"service_account\", \"project_id\": YOUR_PROJECT_ID, \"private_key_id\": YOUR_PRIVATE_KEY, ... }"
              ],
              "description": "The JSON key of the service account to use for authorization. Read more <a href=\"https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys\">here</a>.",
              "airbyte_secret": true
            }
          }
        }
      ],
      "title": "Authentication",
      "description": "Credentials for connecting to the Google Sheets API"
    },
    "spreadsheet_id": {
      "type": "string",
      "title": "Spreadsheet Link",
      "examples": [
        "https://docs.google.com/spreadsheets/d/1hLd9Qqti3UyLXZB2aFfUWDT7BG-arw2xy4HR3D-dwUb/edit"
      ],
      "description": "Enter the link to the Google spreadsheet you want to sync. To copy the link, click the 'Share' button in the top-right corner of the spreadsheet, then click 'Copy link'."
    },
    "names_conversion": {
      "type": "boolean",
      "title": "Convert Column Names to SQL-Compliant Format",
      "default": false,
      "description": "Enables the conversion of column names to a standardized, SQL-compliant format. For example, 'My Name' -> 'my_name'. Enable this option if your destination is SQL-based."
    }
  },
  "additionalProperties": true
}
